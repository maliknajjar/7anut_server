<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>admin home page</title>
</head>
<body>
    <table>
        <tr>
            <th>ID</th>
            <th>orderID</th>
            <th>status</th>
            <th>userEmail</th>
            <th style="width: 200px;">orders</th>
            <th>transportfee</th>
            <th>subtotal</th>
            <th>address</th>
            <th>paymentType</th>
            <th>orderTime</th>
            <th>deliveryDate</th>
        </tr>
        <% for(var i = 0; i < orders.length; i++) { %>
            <tr>
                <% for( let e = 0; e < Object.values(orders[i]).length; e++ ) { %>
                    <% if (e == 2) { %>
                        <td>
                            <div style="display: flex;">
                                <%- JSON.parse(Object.values(orders[i])[e])["status"] + `<div class='status' style='margin-left: 5px;background-color: rgb(${JSON.parse(Object.values(orders[i])[e])["color"]["r"]}, ${JSON.parse(Object.values(orders[i])[e])["color"]["g"]}, ${JSON.parse(Object.values(orders[i])[e])["color"]["b"]});'></div>` %> 
                            </div>
                        </td>
                    <% } else if (e == 4) { %>
                        <td>
                            <div style="overflow-y:scroll; height: 100px;">
                                <% let ordersArr = JSON.parse(Object.values(orders[i])[e]) %> 
                                <% for( let a = 0; a < ordersArr.length; a++ ) { %>
                                    <%- "name: " + ordersArr[a]["Name"] %><br>
                                    <%- "Price: " + ordersArr[a]["price"] %> DT<br>
                                    <%- "size: " + ordersArr[a]["size"] %> <br>
                                    <%- "qty: " + ordersArr[a]["qty"] %> 
                                    <br><br>
                                <% } %>
                            </div>
                        </td>
                    <% }else{ %>
                        <td><%= Object.values(orders[i])[e] %> </td>
                    <% } %>
                <% } %>
            </tr>
        <% } %>
    </table>
</body>
<style>
    table {
      font-family: arial, sans-serif;
      border-collapse: collapse;
    }
    
    td, th {
      border: 1px solid #dddddd;
      text-align: left;
      padding: 8px;
    }
    
    tr:nth-child(even) {
      background-color: #dddddd;
    }
    .status{
        width: 10px;
        height: 10px;
        background-color: red;
        border-radius: 100%;
        border: 2px solid rgba(0, 0, 0, 0.5);
    }
    </style>
</html>